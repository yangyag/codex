server {
    listen 8080;
    server_name _;

    # /admin으로 접근 시 슬래시 추가
    location = /admin {
        return 302 /admin/;
    }

    # /login으로 접근 시 슬래시 추가
    location = /login {
        return 302 /login/;
    }

    # 루트 접근 시 SPA로 전달
    location / {
        root /usr/share/nginx/html;
        try_files /admin$uri /admin$uri/ /admin/index.html;
    }

    location /admin/ {
        root /usr/share/nginx/html;
        try_files $uri $uri/ /admin/index.html;
    }

    # /login/* 은 동일 SPA로 전달
    location /login/ {
        root /usr/share/nginx/html;
        try_files /admin$uri /admin$uri/ /admin/index.html;
    }
}
